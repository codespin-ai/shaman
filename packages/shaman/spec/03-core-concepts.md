# 2. Comprehensive Concepts & Terminology

### 2.1 Core Entities

- **Provider:** A configured LLM service endpoint (OpenAI, Anthropic, Groq, local Ollama). Defined statically in configuration with connection details and authentication credentials.

- **Agent Repository:** A git repository containing agent definitions as markdown files with frontmatter. Repositories can be root (unnamespaced) or namespaced.

- **Agent Definition:** A markdown file with YAML frontmatter containing agent configuration (name, description, model, permissions) and a prompt template.

- **Directory:** A hierarchical organizational structure within git repositories, enabling nested folder navigation (e.g., `/sales/pr-agent`, `/support/billing-agent`).

- **Tag:** A keyword-based classification system defined in agent frontmatter, supporting discovery and categorization.

- **MCP Server:** A service exposing tools via the Model Context Protocol. Can be:

  - `STDIO`: Local processes (defined in config)
  - `HTTP`: Remote HTTP endpoints (API-managed)
  - `A2A`: External A2A-compliant agents (API-managed)

- **Tool:** A function exposed by an MCP Server, with JSON Schema definition, usage statistics, and permission controls.

- **External A2A Agent:** An agent from an external system that implements the A2A protocol, registered in Shaman for consumption by internal agents.

### 2.2 Execution Entities

- **Run:** Top-level execution instance with unique ID, representing a complete user request fulfillment.

- **Step:** Single agent execution within a Run, containing:

  - Complete conversation history
  - Token usage and cost tracking
  - Execution timeline
  - Parent-child relationships (forms the DAG)
  - Git version reference for traceability

- **Memory:** Persistent data saved by agents, with:

  - Structured key-value storage
  - Cross-run accessibility
  - Namespace isolation by agent
  - Expiration policies

- **Message:** Individual conversation turn with role-based typing and extensible part system.

- **Stream Chunk:** Real-time execution events pushed via WebSocket subscriptions.

- **Input Request:** User input requirements generated by agents using the `request_user_input` tool, stored with context for later resolution.